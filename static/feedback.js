(function(){var t,e,i={}.hasOwnProperty;t=function(){class t{constructor(t,e){this.element=$(t),this.settings=$.extend({},this.constructor.defaults,e),this.feedbackDiv=this.element.find(this.settings.feedback_selector),this.infoDiv=this.element.find(this.settings.info_selector),this.contentDiv=this.element.find(this.settings.content_selector)}init(){return this.setInfoPosition(),$(window).on("resize",()=>this.setInfoPosition())}showFeedback(t){var e,i,n;if(e=t.data("label"),n=t.data("id"),i=window.pointandclick[e],this.feedbackDiv.removeClass("correct wrong neutral"),i)return"true"===i.correct?this.feedbackDiv.addClass("correct"):"false"===i.correct?this.feedbackDiv.addClass("wrong"):this.feedbackDiv.addClass("neutral"),i.feedback?this.feedbackDiv.html(i.feedback):this.feedbackDiv.html("[No feedback set]");this.feedbackDiv.text("[Error: question payload not configured (id="+n+")]")}setInfoPosition(){var t;return.8*$(window).height()>this.contentDiv.height()?(this.infoDiv.removeClass("fixed"),this.contentDiv.removeClass("fixed-info"),this.infoDiv.css("maxHeight",""),this.contentDiv.css("marginBottom","")):(this.infoDiv.addClass("fixed"),this.contentDiv.addClass("fixed-info"),t=.25*$(window).height(),this.infoDiv.css("maxHeight",t),this.contentDiv.css("marginBottom",t))}}return t.defaults={feedback_selector:".pointandclick-feedback",info_selector:".pointandclick-info",content_selector:".pointandclick-content",clickable_selector:".clickable",clickable_class:"clickable"},t}.call(this),e=function(){class e extends t{static checkPayloadSanity(t){var e,n;if(!t||!t.answers||!t.answers.answers||"object"!=typeof t.answers.answers)return!1;for(n in e=t.answers.answers)if(i.call(e,n)&&"boolean"!=typeof e[n])return!1;return!0}constructor(t,e){super(t,e),this.constructor.checkPayloadSanity(window.pointandclick)?this.init():console.error("Feedback payload is invalid!")}init(){var t,e;return e=this,t=0,this.element.find(this.settings.clickable_selector).each(function(){var e;return e=t++,$(this).data("id",e)}).filter(function(){var t;return t=$(this).data("id"),window.pointandclick.answers.answers[t]?(e.initClickable($(this)),!0):($(this).removeClass(e.settings.clickable_class),!1)}).click(function(){return e.showFeedback($(this))}),super.init()}initClickable(t){var e,i;if(e=t.data("label"),"true"===(i=window.pointandclick[e]).correct?t.addClass("correct"):"false"===i.correct?t.addClass("wrong"):t.addClass("neutral"),i.reveal)return t.html(i.reveal)}}return e.pluginName="acosPointAndClickFeedback",e}.call(this),$.fn[e.pluginName]=function(t){return this.each(function(){if(!$.data(this,"plugin_"+e.pluginName))return $.data(this,"plugin_"+e.pluginName,new e(this,t))})},$(function(){return $(".pointandclick").acosPointAndClickFeedback()})}).call(this);